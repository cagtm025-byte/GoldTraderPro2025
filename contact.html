<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GoldTrader Pro ‚Äî Contact</title>
  <link rel="stylesheet" href="style.css">
  <meta name="color-scheme" content="dark light">
  <script>
    /* Apply saved theme early to avoid flash */
    try {
      const pref = localStorage.getItem("themePreference") || "system";
      if (pref === "system") {
        const sysDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        document.documentElement.dataset.theme = sysDark ? "dark" : "light";
      } else {
        document.documentElement.dataset.theme = pref;
      }
    } catch (e) { document.documentElement.dataset.theme = "dark"; }
  </script>
</head>

<body>
<header>
  <div style="display:flex;align-items:center">
    <div class="brand">
      <div class="logo">GT</div>
      <div>
        <div style="font-weight:700">GoldTrader Pro</div>
        <div class="small">Invoicing & Inventory ‚Äî simple, secure, professional</div>
      </div>
    </div>
    <div class="role-group" style="margin-left:20px">
      <label for="roleSelect" class="small">Access</label>
      <select id="roleSelect" aria-label="Select access role">
        <option value="tenant">Tenant</option>
        <option value="admin">Admin</option>
      </select>
    </div>
  </div>

  <div class="nav">
    <a href="index.html"><button class="btn btn-ghost">Home</button></a>
    <a href="pricing.html"><button class="btn btn-ghost">Pricing</button></a>
    <a href="whatsapp_qr.html"><button class="btn btn-ghost">QR Generator</button></a>
    <a href="contact.html"><button class="btn btn-ghost">Contact</button></a>
  </div>

  <div style="display:flex;align-items:center;gap:8px">
    <!-- Theme toggle -->
    <button id="themeBtn" class="btn btn-ghost" title="Toggle theme">üåô</button>

    <!-- ‚úÖ Hamburger inside header (on right side) -->
    <button class="hamburger" id="hamburgerBtn" aria-label="Toggle menu">
      <span class="bar"></span>
    </button>
  </div>
</header>

  <!-- Main -->
  <main class="container" role="main" aria-labelledby="contactHeading">
    <div class="page-card">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <h2 id="contactHeading" style="margin:0">Contact Us</h2>
        <div><a href="index.html"><button class="btn btn-ghost">Back to home</button></a></div>
      </div>

      <p class="small" style="margin-top:10px">
        Questions? Want a demo or custom deployment? Get in touch and we'll respond within 1 business day.
      </p>

      <!-- Contact form -->
      <form id="contactForm" class="contact-form" style="margin-top:18px;max-width:920px;">
        <div class="form-row">
          <input id="cname" class="input large" placeholder="Your name" required aria-required="true">
        </div>

        <div class="form-row">
          <input id="cemail" class="input large" type="email" placeholder="Email" required aria-required="true">
        </div>

        <div class="form-row">
          <input id="cphone" class="input large" placeholder="Phone (optional)" inputmode="tel">
        </div>

        <div class="form-row">
          <textarea id="cmessage" class="input textarea large" rows="8" placeholder="Message" required aria-required="true"></textarea>
        </div>

        <div class="form-actions" style="margin-top:14px;display:flex;gap:12px;align-items:center">
          <button id="sendContact" type="button" class="btn btn-primary pill">Send message</button>
          <button id="resetContact" type="reset" class="btn btn-ghost pill">Reset</button>
        </div>
      </form>

      <!-- Office & Support container -->
      <section class="info-container">
        <div class="info-card">
          <strong>Office</strong>
          <div class="small muted" style="margin-top:8px">L-30B, LGF, Malviya Nagar, New Delhi - 110017</div>
          <div class="small" style="margin-top:6px">Phone: +91 9999635471</div>
        </div>
        <div class="info-card">
          <strong>Support</strong>
          <div class="small muted" style="margin-top:8px">For product support and troubleshooting</div>
          <div class="small" style="margin-top:6px">support@goldtraderpro.in</div>
        </div>
      </section>

      <footer class="footer" style="margin-top:28px">
        GoldTrader Pro ‚Äî hosted at goldtraderpro.in <span id="year"></span>
      </footer>
    </div>
  </main>

  <!-- Scripts -->
  <script>
    /* Footer year + mailto handler */
    document.getElementById('year').textContent = new Date().getFullYear();

    document.getElementById('sendContact').addEventListener('click', function () {
      const name = document.getElementById('cname').value.trim();
      const email = document.getElementById('cemail').value.trim();
      const message = document.getElementById('cmessage').value.trim();
      if (!name || !email || !message) {
        alert('Please fill Name, Email and Message.');
        return;
      }
      const subject = encodeURIComponent('GoldTraderPro contact from ' + name);
      const body = encodeURIComponent(
        'Name: ' + name +
        '\nPhone: ' + (document.getElementById('cphone').value || '') +
        '\n\n' + message
      );
      window.location.href = 'mailto:info@goldtraderpro.in?subject=' + subject + '&body=' + body;
    });

    document.getElementById('resetContact').addEventListener('click', () => {
      ['cname', 'cemail', 'cphone', 'cmessage'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.value = '';
      });
    });
  </script>

  <!-- Theme preference logic -->
  <script>
(function () {
  // safe theme helper ‚Äî works whether or not #themePref exists
  const prefSel = document.getElementById("themePref");
  const btn = document.getElementById("themeBtn");

  function applyTheme(theme) {
    document.documentElement.dataset.theme = theme;
    if (btn) btn.textContent = theme === "dark" ? "üåô" : "‚òÄÔ∏è";
  }

  function resolveAndApply(pref) {
    if (pref === "system") {
      const mq = window.matchMedia('(prefers-color-scheme: dark)');
      applyTheme(mq.matches ? "dark" : "light");
    } else {
      applyTheme(pref);
    }
  }

  // read stored preference safely
  const storedPref = (function () {
    try { return localStorage.getItem("themePreference") || "system"; }
    catch (e) { return "system"; }
  })();

  // initial apply
  resolveAndApply(storedPref);

  // if the select exists, wire it up; otherwise skip safely
  if (prefSel) {
    prefSel.value = storedPref;
    prefSel.addEventListener("change", function () {
      const v = prefSel.value;
      try { localStorage.setItem("themePreference", v); } catch (e) {}
      resolveAndApply(v);
    });
  }

  // wire toggle button if present
  if (btn) {
    btn.addEventListener("click", function () {
      const current = document.documentElement.dataset.theme === "dark" ? "dark" : "light";
      const next = current === "dark" ? "light" : "dark";
      try { localStorage.setItem("themePreference", next); } catch (e) {}
      if (prefSel) prefSel.value = next;
      resolveAndApply(next);
    });
  }

  // respond to system changes only if preference==system
  const mq = window.matchMedia('(prefers-color-scheme: dark)');
  mq.addEventListener && mq.addEventListener('change', function () {
    try {
      if ((localStorage.getItem("themePreference") || "system") === "system") {
        resolveAndApply("system");
      }
    } catch (e) { /* ignore */ }
  });
})();
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  try {
    const hamburger = document.getElementById('hamburgerBtn');
    const nav = document.querySelector('.nav');

    if (!hamburger || !nav) {
      // nothing to do on pages without the expected header structure
      return;
    }

    // ensure aria attributes for accessibility
    hamburger.setAttribute('aria-expanded', 'false');
    hamburger.setAttribute('aria-controls', 'main-nav');

    // give nav an id if missing (helps aria-controls)
    if (!nav.id) nav.id = 'main-nav';

    // toggle function
    const toggleNav = () => {
      const isOpen = nav.classList.toggle('open');
      hamburger.setAttribute('aria-expanded', String(!!isOpen));
      // trap focus could be added later ‚Äî basic behavior for now
    };

    // attach click
    hamburger.addEventListener('click', function (ev) {
      ev.stopPropagation(); // don't let body click close immediately
      toggleNav();
    });

    // close nav when clicking outside (mobile)
    document.addEventListener('click', function (ev) {
      if (!nav.classList.contains('open')) return;
      // if click is inside nav or on hamburger, ignore
      if (nav.contains(ev.target) || hamburger.contains(ev.target)) return;
      nav.classList.remove('open');
      hamburger.setAttribute('aria-expanded', 'false');
    });

    // close with Escape key
    document.addEventListener('keydown', function (ev) {
      if (ev.key === 'Escape' && nav.classList.contains('open')) {
        nav.classList.remove('open');
        hamburger.setAttribute('aria-expanded', 'false');
        hamburger.focus();
      }
    });

    // Optional: auto-hide nav when window resizes to desktop
    window.addEventListener('resize', function () {
      if (window.innerWidth > 700 && nav.classList.contains('open')) {
        nav.classList.remove('open');
        hamburger.setAttribute('aria-expanded', 'false');
      }
    });
  } catch (err) {
    // log error cleanly ‚Äî won't break other scripts
    console.error('Hamburger init error:', err);
  }
});
</script>
</body>
</html>
